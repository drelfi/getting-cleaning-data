# Getting and Cleaning Data Course Project

This repo contains the script and information available for the project required by the Getting and Cleaning Data course in Coursera [getdata-012](https://class.coursera.org/getdata-012).

The main resources used for the project are:

* Zip file containing a copy of the data used as base for the analysis
* A script file performing all the data manipulation for getting the data according to course project goals
* A cookbook including information about the output generated by the script

The objective of the course are as stated as follows:

> The goal is to prepare tidy data that can be used for later analysis.
> You should create one R script called run_analysis.R that does the following. 

> 1. Merges the training and the test sets to create one data set.
> 2. Extracts only the measurements on the mean and standard deviation for each measurement. 
> 3. Uses descriptive activity names to name the activities in the data set
> 4. Appropriately labels the data set with descriptive variable names. 
> 5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

## Script internals

The script 'run_analysis.R' relies on the following packages for running:

* dplyr
* data.table

Install those packages in the system where the script will be run using the following syntax:

```
install.packages(<name of the package>)
```

In order to get the output required, the function to call is `getting.and.cleaning.data` specifying the folder where the data is (if there is no parameter, it will assume there is a folder called 'UCI HAR Dataset' in current working directory)

The script has been split into different functions performing a piece of the work each. Those functions are described next.

* `read.ucidataset(dir, xfile = file.path("test","X_test.txt"), yfile = file.path("test","y_test.txt")` Loading UCI data set function. It reads all the required files and publishes a single data frame. It must be called once for training and once for testing data sets
* `publish.varnames(.data, dir, features.file = "features.txt")` Assign the variable names based on a list located in a file. It also expands the names for getting a better understanding of the variables meaning
* `read.activitylabels(.data, dir, activitylabels.file = "activity_labels.txt")` Read the activity labels from a file and create a new column with a mapping to the number specified in 'labels'
* `get.relevantcolumns(.data, dir, features.file = "features.txt")` Select relevant columns from the data set based on the exercise premise:
    2. Extracts only the measurements on the mean and standard deviation for each measurement.
* `tidy.ucidataset(dir = "UCI HAR Dataset/")` Main function to make the UCI data set tidy. It performs the operations required by the exercise:
    1. Merges the training and the test sets to create one data set.
    2. Extracts only the measurements on the mean and standard deviation for each measurement. 
    3. Uses descriptive activity names to name the activities in the data set
    4. Appropriately labels the data set with descriptive variable names.
* `summarize.dataset(.data)` Once the data has been put in a tidy format, create the summarization based on:
    5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.
* `getting.and.cleaning.data(dir = "UCI HAR Dataset")` Main function running points 1 to 5 for the Getting and Cleaning Data from coursera (getdata-012)